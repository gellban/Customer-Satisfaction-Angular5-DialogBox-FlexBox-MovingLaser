<div class="container">
  <h2>Survey</h2>
  <form action="#" class="form-inline">
    <div class="form-group">
      <label for="name">Company Name</label>
      <input type="text" class="form-control" [(ngModel)]="survey.companyName" name="companyName" placeholder="e.g. eBigDatai, Google, Microsoft"
      />
    </div>

    <div class="form-group">
      <label for="rate">Do you like the products of this company?</label>
      <br>
      <label *ngFor="let r of ratingList">
        <input type="radio" value={{r._id}} name="ratingId" [(ngModel)]="survey.ratingId" />{{r.name}}
      </label>
      {{survey.ratingId}}
    </div>
    <div class="form-group">
      <button (click)='add()' class="btn btn-primary btn-lg">Add</button>
    </div>
  </form>
  <div>
    <table>
      <tbody>
        <tr *ngFor="let survey of surveyList">
          <td>
            <input type="text" [(ngModel)]="survey.companyName" name="companyName" placeholder="e.g. eBigDatai, Google, Microsoft" />
          </td>
          <td>

            <select [(ngModel)]="survey.ratingId">

              <option value="{{r._id}}" *ngFor="let r of ratingList">{{r.name}}</option>

            </select>
            
          </td>
          <td>
            <button class="btn btn-danger" data-toggle="modal" data-target="#deleteDialog" (click)="setCurrentSurvey(survey._id)">Delete</button>
            <div>
                
            </div>
            <div class="modal fade" id="deleteDialog" role="dialog">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="dialog-header">
                      <button type="button" class= "close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Confirmation</h4>
    
                    </div>
                    <div class="modal-body">
                      <p>Are you sure to delete this rating permanently?</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="delete()">Yes</button>
                      <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                    </div>
                  </div>
                </div>
              </div>
          </td>

        </tr>
      </tbody>
    </table>
  </div>
</div>
